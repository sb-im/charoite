# This option is for livestream.
[machine_id]
uuid = "0cbab001-b037-4b0f-a687-d22a803eb363"

# This option is shared between broadcast and livestream.
[mqtt]
clientID = "mqtt_cloud" # for livestream, it's value may be "mqtt_edge".
username = "user"
password = "password"
server = "tcp://mosquitto:1883"

# This option is for broadcast.
[mqtt_client]
topic_offer_prefix = "/edge/livestream/signal/offer"
topic_answer_prefix = "/edge/livestream/signal/answer"

topic_candidate_send_prefix = "/edge/livestream/signal/candidate/recv" # for livestream, it's value is "/edge/livestream/signal/candidate/send".
topic_candidate_recv_prefix = "/edge/livestream/signal/candidate/send" # for livestream, it's value is "/edge/livestream/signal/candidate/recv".

topic_hook_stream_prefix = "/edge/livestream/hook"

qos = 0 # for livestream, it's value is 2.
retained = false

# This option is shared between broadcast and livestream.
[webrtc]
enable_frontend = false # It's used by broadcast only.

ice_server = "turn:example.com:3478"
ice_server_username = "user"
ice_server_credential = "password"

# This option is for broadcast.
[signal_server]
host = "0.0.0.0"
port = 8080

# This option is for turn.
[turn]
port = 3478
public_ip = "127.0.0.1"
realm = "example.com"
relay_min_port = 50000
relay_max_port = 55000
username = "user"
password = "password"
# topic_candidate_send_prefix is opposite to cloud's topic_candidate_recv_prefix topic
topic_candidate_send_prefix = "/edge/livestream/signal/candidate/send"
# topic_candidate_recv_prefix is opposite to cloud's topic_candidate_send_prefix topic
topic_candidate_recv_prefix = "/edge/livestream/signal/candidate/recv"

topic_hook_stream_prefix = "/edge/livestream/hook"

qos = 2
retained = false

# This option is for livestream.
[drone_stream]
consume_stream_on_demand = false

protocol = "rtp"
host = "0.0.0.0"
port = 5004

# rtsp stream configuration for drone example
# protocol = "rtsp"
# addr = "rtsp://127.0.0.1:1234"

# rtmp stream configuration for drone example
# host = "0.0.0.0"
# port = 1935

# This option is for livestream.
[deport_stream]
consume_stream_on_demand = false

protocol = "rtsp"
addr = "rtsp://127.0.0.1:1234"

# rtp stream configuration for deport example
# protocol = "rtp"
# host = "0.0.0.0"
# port = 5005 # use a different port from drone stream source port

# This option is for livestream.
[hook_stream]
service = "sbcameradronemulti.service"
wait_timeout = "3s"
